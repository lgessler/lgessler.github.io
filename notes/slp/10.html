<!doctype html>
<html lang="en">
<head>
<title>Speech and Language Processing 3ed draft, Chapter 10, Formal Grammars of English</title>
<!-- 2018-08-25 Sat 02:03 -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="generator" content="Org-mode">
<meta name="author" content="Luke Gessler">

<link  href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.5/js/bootstrap.min.js"></script>
<style type="text/css">
/* org mode styles on top of twbs */

html {
    position: relative;
    min-height: 100%;
}

body {
    font-size: 18px;
    margin-bottom: 105px;
}

footer {
    position: absolute;
    bottom: 0;
    width: 100%;
    height: 101px;
    background-color: #f5f5f5;
}

footer > div {
    padding: 10px;
}

footer p {
    margin: 0 0 5px;
    text-align: center;
    font-size: 16px;
}

#table-of-contents {
    margin-top: 20px;
    margin-bottom: 20px;
}

blockquote p {
    font-size: 18px;
}

pre {
    font-size: 16px;
}

.footpara {
    display: inline-block;
}

figcaption {
  font-size: 16px;
  color: #666;
  font-style: italic;
  padding-bottom: 15px;
}

/* from twbs docs */

.bs-docs-sidebar.affix {
    position: static;
}
@media (min-width: 768px) {
    .bs-docs-sidebar {
        padding-left: 20px;
    }
}

/* All levels of nav */
.bs-docs-sidebar .nav > li > a {
    display: block;
    padding: 4px 20px;
    font-size: 14px;
    font-weight: 500;
    color: #999;
}
.bs-docs-sidebar .nav > li > a:hover,
.bs-docs-sidebar .nav > li > a:focus {
    padding-left: 19px;
    color: #A1283B;
    text-decoration: none;
    background-color: transparent;
    border-left: 1px solid #A1283B;
}
.bs-docs-sidebar .nav > .active > a,
.bs-docs-sidebar .nav > .active:hover > a,
.bs-docs-sidebar .nav > .active:focus > a {
    padding-left: 18px;
    font-weight: bold;
    color: #A1283B;
    background-color: transparent;
    border-left: 2px solid #A1283B;
}

/* Nav: second level (shown on .active) */
.bs-docs-sidebar .nav .nav {
    display: none; /* Hide by default, but at >768px, show it */
    padding-bottom: 10px;
}
.bs-docs-sidebar .nav .nav > li > a {
    padding-top: 1px;
    padding-bottom: 1px;
    padding-left: 30px;
    font-size: 12px;
    font-weight: normal;
}
.bs-docs-sidebar .nav .nav > li > a:hover,
.bs-docs-sidebar .nav .nav > li > a:focus {
    padding-left: 29px;
}
.bs-docs-sidebar .nav .nav > .active > a,
.bs-docs-sidebar .nav .nav > .active:hover > a,
.bs-docs-sidebar .nav .nav > .active:focus > a {
    padding-left: 28px;
    font-weight: 500;
}

/* Nav: third level (shown on .active) */
.bs-docs-sidebar .nav .nav .nav {
    padding-bottom: 10px;
}
.bs-docs-sidebar .nav .nav .nav > li > a {
    padding-top: 1px;
    padding-bottom: 1px;
    padding-left: 40px;
    font-size: 12px;
    font-weight: normal;
}
.bs-docs-sidebar .nav .nav .nav > li > a:hover,
.bs-docs-sidebar .nav .nav .nav > li > a:focus {
    padding-left: 39px;
}
.bs-docs-sidebar .nav .nav .nav > .active > a,
.bs-docs-sidebar .nav .nav .nav > .active:hover > a,
.bs-docs-sidebar .nav .nav .nav > .active:focus > a {
    padding-left: 38px;
    font-weight: 500;
}

/* Show and affix the side nav when space allows it */
@media (min-width: 992px) {
    .bs-docs-sidebar .nav > .active > ul {
        display: block;
    }
    /* Widen the fixed sidebar */
    .bs-docs-sidebar.affix,
    .bs-docs-sidebar.affix-bottom {
        width: 213px;
    }
    .bs-docs-sidebar.affix {
        position: fixed; /* Undo the static from mobile first approach */
        top: 20px;
    }
    .bs-docs-sidebar.affix-bottom {
        position: absolute; /* Undo the static from mobile first approach */
    }
    .bs-docs-sidebar.affix .bs-docs-sidenav,.bs-docs-sidebar.affix-bottom .bs-docs-sidenav {
        margin-top: 0;
        margin-bottom: 0
    }
}
@media (min-width: 1200px) {
    /* Widen the fixed sidebar again */
    .bs-docs-sidebar.affix-bottom,
    .bs-docs-sidebar.affix {
        width: 263px;
    }
}
</style>
<script type="text/javascript">
$(function() {
    'use strict';

    $('.bs-docs-sidebar li').first().addClass('active');

    $(document.body).scrollspy({target: '.bs-docs-sidebar'});

    $('.bs-docs-sidebar').affix();
});
</script><link rel='stylesheet' type='text/css' href='/css/styles.css'>
            <link href="https://fonts.googleapis.com/css?family=Roboto"
                  rel="stylesheet">

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  displayAlign: "center",
  displayIndent: "2em",
  messageStyle: "none",
  "HTML-CSS": {
    scale: 100,
    styles: {
      ".MathJax_Display": {
        "font-size": "100%"
      }
    }
  },
  "SVG": {
    scale: 100,
    styles: {
      ".MathJax_SVG_Display": {
        "font-size": "100%",
        "margin-left": "-2.281em"
      }
    }
  }
});
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_SVG"></script>
</head>
<body>
<div id="preamble" class="">
<div class="container"><div class="row"><div class="col-md-9"><div style="font-size:11px;text-align:center;"><a style="color:gray;" href="/">Home</a> <a style="color:gray;" href="/posts/">Blog</a></div><div style="margin-top:0px;margin-bottom:-12px;color:#a0a0a0;">Luke Gessler</div></div></div></div>
</div>
<div id="content" class="container">
<div class="row"><div class="col-md-9"><h1 class="title">Speech and Language Processing 3ed draft, Chapter 10, Formal Grammars of English</h1>
<style>
body { 
    max-width: 800px; 
    margin: 0 auto 0 auto;
} 
</style>
<!-- for svg -->
<style> .figure object { height: 250px; } </style>


<div id="outline-container-sec-" class="outline-2">
<h2 id="sec-">Notes</h2>
<div class="outline-text-2" id="text-">
</div><div id="outline-container-sec-" class="outline-3">
<h3 id="sec-">10.2 Context Free Grammars</h3>
<div class="outline-text-3" id="text-">
<p>
A grammar is defined by a 4-tuple: 
</p>

<ul class="org-ul">
<li>\(N\), a set of non-terminals
</li>
<li>\(\Sigma\), a set of terminals
</li>
<li>\(R\), a set of productions \(A\rightarrow \beta\) where \(A\) is non-terminal and \(\beta\) is a string of symbols from the infinite set of strings \((\Sigma \cup N)*\)
</li>
<li>\(S \in N\), a designated start symbol
</li>
</ul>

<p>
Direct derivation: if \(A \rightarrow \beta \in R\) and \(\alpha, \gamma \in (\Sigma \cup N)*\), then \(\alpha A\gamma\) directly derives \(\alpha\beta\gamma\), or \(\alpha A\gamma \Rightarrow \alpha\beta\gamma \)
</p>

<p>
Derivation, a generalization of direct derivation: if \(\alpha_1,...,\alpha_m \in (\Sigma\cup N)*, m \geq 1\), such that \(\alpha_1 \Rightarrow \alpha_2\alpha_3 \Rightarrow \alpha_3,\ldots,\alpha_{m-1} \Rightarrow \alpha_m\), then \(\alpha_1\) derives \(\alpha_m\), or \(\alpha_1 \overset{*}{\Rightarrow} \alpha_m\)
</p>

<p>
So the corresponding language \(\mathscr{L}_G = \{w|w \in \Sigma* \wedge S \overset{*}{\Rightarrow} w\}\), i.e. the set of all terminal strings that can be derived using productions in \(R\).
</p>
</div>
</div>


<div id="outline-container-sec-" class="outline-3">
<h3 id="sec-">10.5 Grammar Equivalence and Normal Form</h3>
<div class="outline-text-3" id="text-">
<p>
Two kinds of grammar equivalence:
</p>

<ul class="org-ul">
<li>Weak equivalence: same set of terminal strings
</li>
<li>Strong equivalence: same set of terminal strings and same phrase structure
</li>
</ul>

<p>
Sometimes normal forms are useful. Chomsky normal form is \(\epsilon\)-free, and all productions have either two non-terminals or one terminal. (This makes it binary branching.)
</p>

<p>
Any CFG can be turned into a weakly equivalent CNF grammar. E.g., \(A \rightarrow B C D \Rightarrow A \rightarrow B X, X \rightarrow C D\).
</p>

<p>
Generating a symbol A with a potentially infinite sequence of symbols B with a rule of form \(A \rightarrow A B\) is known as Chomsky-adjunction.
</p>
</div>
</div>

<div id="outline-container-sec-" class="outline-3">
<h3 id="sec-">10.6 Lexicalized Grammars</h3>
<div class="outline-text-3" id="text-">
<p>
CFG's and related approaches minimize the role of the lexicon, leads to brittleness and redundancy. Other approaches make more use of the lexicon.
</p>
</div>

<div id="outline-container-sec-" class="outline-4">
<h4 id="sec-">10.6.1 Combinatory Categorial Grammar</h4>
<div class="outline-text-4" id="text-">
<p>
<b>Categories</b>: either atoms or single-argument functions that return a category when provided with a desired category. Set of categories \(\mathscr{C}\) defined as:
</p>

<ul class="org-ul">
<li>\(\mathscr{A} \subseteq \mathscr{C}\), where \(\mathscr{A}\) is a set of atomic elements
</li>
<li>\((X/Y), (X\backslash Y) \in \mathscr{C}\), if \(X,Y \in \mathscr{C}\)
</li>
</ul>

<p>
\((X/Y)\) means "seeks a constituent of type \(Y\) to its right and returns a value of \(X\)". \((X\backslash Y)\) means the same, but it seeks the constituent of type \(Y\) to the left. Atomic categories are small and contain familiar parts of speech.
</p>

<p>
<b>Lexicon</b>: words are assigned categories, e.g. \((S\backslash NP)/NP\) anticipating a production like "cancel the flight to Miami".
</p>

<p>
<b>Rules</b>: specify how functions and their arguments combine. Based on two templates:
</p>

<p>
\[ X / Y\ Y \Rightarrow X \]
</p>

<p>
\[ Y\ X\backslash Y \Rightarrow X \]
</p>

<p>
This is just a restatement of what we showed earlier: if a Y is encountered to the right of the function, it will emit an X, etc. Need another rule to handle coordination:
</p>

<p>
\[ X\ CONJ\ X \Rightarrow X \]
</p>

<p>
Note that the \(CONJ\) category is not emitted.
</p>

<p>
<b>More power</b>: so far only have as much power as CFG's. But CCG has more powerful operations. E.g., function composition:
</p>

<p>
\[ X/Y\ Y/Z \Rightarrow X/Z \]
</p>

<p>
\[ Y\backslash Z\ X\backslash Y \Rightarrow X\backslash Z \]
</p>

<p>
Type raising: takes a category and turns it into a function that takes the original category as its argument:
</p>

<p>
\[ X \Rightarrow T/(T\backslash X) \]
</p>

<p>
\[ X \Rightarrow T\backslash (T/X) \]
</p>

<p>
Both demonstrated here. Former rule indicated by the B, latter indicated by the T:
</p>


<figure>
<p><img src="./ltximg/unitedservesmiami.png" class="img-responsive" alt="unitedservesmiami.png">
</p>
</figure>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-" class="outline-2">
<h2 id="sec-">Exercises</h2>
<div class="outline-text-2" id="text-">
</div><div id="outline-container-sec-" class="outline-3">
<h3 id="sec-">10.3</h3>
<div class="outline-text-3" id="text-">
<p>
The rules we were given are:
</p>

\begin{array}{lll}
Nominal & \rightarrow & Nominal\ RelClause \\
RelClause & \rightarrow & (who\ |\ that)\ VP \\
VP & \rightarrow & VP_1 \\
VP & \rightarrow & VP_2 \\
\vdots & \rightarrow & \vdots \\
\end{array}

<p>
There are two problems with these rule for the sentence <i>the earliest flight that you have</i>. First, this production does not contain any NP's for the word <i>you</i>, and second, since the verb's complement is <i>who</i> or <i>that</i>, we need to alter the production rules so that complements are not allowed in this kind of relative clause. (We won't try to account for movement.)
</p>

<p>
We can fix the NP problem by adding an additional production that contains an NP before the VP. 
</p>

<p>
The most straightforward fix for the complement removal problem is to create a duplicate of every VP subcategorization that includes a complement and to remove the complement from the corresponding duplicate. Then, we would nest this under a new VP-like category that is just for relative clauses. (We could also inline this by writing \((RCVP_1 | RCVP_2 | \ldots | RCVP_n)\) instead of \(RCVP\).)
</p>

<p>
Our new rules:
</p>

\begin{array}{lll}
Nominal & \rightarrow & Nominal\ RelClause \\
RelClause & \rightarrow & (who\ |\ that)\ NP\ RCVP \\
RelClause & \rightarrow & (who\ |\ that)\ RCVP \\
RCVP & \rightarrow & RCVP_1 \\
RCVP & \rightarrow & RCVP_2 \\
\vdots & \rightarrow & \vdots \\
\end{array}

<p>
Take one subcategory we might have had originally&#x2013;let's call it \(VPCmpl\)&#x2013;and compare it to its relativized form:
</p>

\begin{array}{lll}
VP & \rightarrow & VPCmpl \\
VPCmpl & \rightarrow & Verb\ NP \\
RCVP & \rightarrow & RCVPCmpl \\
RCVPCmpl & \rightarrow & Verb \\
\end{array}

<p>
Thus, using the first set of rules we can correctly form a normal sentence like \([_{S} [_{NP} \text{ We}] [_{VP} \text{ have} [_{NP} \text{ the earliest flight}]]]\), and we correctly reject a formation like \(*[_{S} [_{NP} \text{ We}] [_{VP} \text{ have}]]\).
</p>

<p>
Analogously, using the second set of rules: the sentence 
</p>

<p>
\[[_{NP} [_{Det} \text{ the}] [_{Nom} [_{Nom} [_{Nom} [_{Adj} \text{ earliest}]] [_{Nom} [_{Noun} \text{ flight}]]] [_{RelClause} \text{ that} [_{NP} [_{Nom} [_{Noun} \text{ you}]]] [_{RCVP} [_{RCVPCmpl} [_{Verb} \text{ have}]]]]]]\] 
</p>

<p>
is generated correctly, but a sentence like <i>the earliest flight that you have it</i> is rejected.
</p>
</div>
</div>




<div id="outline-container-sec-" class="outline-3">
<h3 id="sec-">10.4</h3>
<div class="outline-text-3" id="text-">
<p>
<i>the earliest flight that I can get</i> works fine because we added an \(NP\) to the \(RelClause\) production. 
</p>

<p>
<i>the earliest flight that I think my mother wants me to book for her</i> doesn't work with our straightforward approach from before, because only <i>one</i> complement out of potentially many may be moved to the head of the relative clause&#x2013;i.e., represented by <i>that</i>, <i>who</i>, etc. 
</p>

<p>
First, the <i>I</i> would parse as an NP. Note that the rest of the sentence, <i>think my mother wants me to book for her</i>, is analogous to <i>think my mother wants me to book [a flight] for her</i> in the non-relative clause version you'd find in a declarative sentence. Then this, too, can be parsed as something like this (some simplifications were made to irrelevant structures):
</p>

<p>
\[ [_{VPRC_{think}} \text{ think} [_{S_{rel}} [_{NP} \text{ my mother}] [_{VPRC_{wants}} \text{ wants} [_{NP} \text{ me}] [_{VPRC_{to}} \text{ to book for her}]]]]\]
</p>

<p>
Compare this with its non-relative analogue:
</p>

<p>
\[ [_{VP_{think}} \text{ think} [_{S} [_{NP} \text{ my mother}] [_{VP_{wants}} \text{ wants} [_{NP} \text{ me}] [_{VP_{to}} \text{ to book }\textbf{a flight}\text{ for her}]]]]\]
</p>

<p>
Note we are assuming that we have subcategories for constructions we're calling <i>think</i>, <i>wants</i>, and <i>to</i>. The <i>to</i> VP has had its complement removed in its relative clause analogue, but the other two have not had their complements removed. But they <i>can</i> have their complements, as well as some other constituents, removed. Consider these movements, which affect all three constructions:
</p>

<ul class="org-ul">
<li>The flight that I think my mother wants me to book \([\varnothing]\) for her
</li>
<li>The uncle who I think my mother wants me to book the flight for \([\varnothing]\)
</li>
<li>My mother who I think \([\varnothing]\) wants me to book a flight for her
</li>
<li>He who I think my mother wants \([\varnothing]\) to book the flight for her
</li>
<li>I who \([\varnothing]\) think my mother wants me to book the flight for her
</li>
</ul>

<p>
So long as there's only one constituent that has moved, we could devise a new set of subcategories. First, we would wrap the subject \(NP\) and the verbal part of the construction in a new clause constituent such that for each \(RCC_n\) there is also a \(RCC_{n,moved,i}\), where the <i>moved,i</i> variant indicates the the \(i\)th immediate child of the construction has been moved, and a \(RCC_{n,blocked}\) that indicates a previous construction participated in movement and therefore this one may not. While unwieldy, this could produce correct results, at least with respect to this problem. This is an example parse of <i>My mother who I think wants me to a book a flight for her</i>:
</p>


<p>
\[ [_{RelClause} \text{ who} [_{RCC_{think}} [_{NP} \text{ I}] [_{VP} \text{ think} [_{RCC_{wants,moved,1}} [_{NP} \varnothing] [_{VP} \text{ wants} [_{NP} \text{ me}]  \]
\[ [_{RCC_{book,blocked}} \text{ to} [_{VP} \text{ book} [_{NP} \text{ the flight}] [_{PP} \text{ for her}]]]]]]]] \]
</p>

<p>
Needless to say, this is a pretty brittle solution.
</p>
</div>
</div>

<div id="outline-container-sec-" class="outline-3">
<h3 id="sec-">10.5</h3>
<div class="outline-text-3" id="text-">
\begin{array}{lll}
verb-with-bare-VP-complement & \rightarrow & \text{can | could | may | might | shall | should | will | would}\\
verb-with-infinitive-VP-complement & \rightarrow &  \text{ought} \\
verb-with-gerundive-VP-complement & \rightarrow & \text{is | are} \\
verb-with-perfective-VP-complement & \rightarrow & \text{has | have | is | are} \\
\end{array}
</div>
</div>

<div id="outline-container-sec-" class="outline-3">
<h3 id="sec-">10.6</h3>
<div class="outline-text-3" id="text-">
\begin{array}{lll}
Det & \rightarrow & NP\ Gen \\
Gen & \rightarrow & \text{'s} \\
\end{array}

<p>
\[ [_{NP} [_{Det} [_{NP} [_{Nom} [_{Noun} \text{Fortune}]]] [_{Gen} \text{'s}]] [_{Nom} [_{Noun} \text{ office}]]] \]
</p>
</div>
</div>
</div>
</div><div class="col-md-3"><nav id="table-of-contents">
<div id="text-table-of-contents" class="bs-docs-sidebar">
<ul class="nav">
<li><a href="#sec-">Notes</a>
<ul class="nav">
<li><a href="#sec-">10.2 Context Free Grammars</a></li>
<li><a href="#sec-">10.5 Grammar Equivalence and Normal Form</a></li>
<li><a href="#sec-">10.6 Lexicalized Grammars</a></li>
</ul>
</li>
<li><a href="#sec-">Exercises</a>
<ul class="nav">
<li><a href="#sec-">10.3</a></li>
<li><a href="#sec-">10.4</a></li>
<li><a href="#sec-">10.5</a></li>
<li><a href="#sec-">10.6</a></li>
</ul>
</li>
</ul>
</div>
</nav>
</div></div></div>
<footer id="postamble" class="">
<div class="container"><div class="row"><div class="col-md-9"><div id="disqus_thread"></div></div></div></div>
</footer>
</body>
</html>
